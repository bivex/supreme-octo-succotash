# Database Utilities

Набор скриптов для управления базой данных PostgreSQL проекта.

## Файлы

- `init_db.py` - Инициализация всех таблиц базы данных
- `clean_db.py` - Очистка всех таблиц (TRUNCATE)
- `db_utils.bat` - Удобный Windows батник для запуска команд

## Быстрое использование

### Windows (рекомендуется)
```cmd
# Очистить базу данных
db_utils.bat clean

# Инициализировать таблицы
db_utils.bat init

# Проверить статус
db_utils.bat check
```

### Python напрямую
```bash
# Очистить базу данных
python clean_db.py

# Инициализировать таблицы
python init_db.py
```

## Параметры подключения

- **Хост:** localhost
- **Порт:** 5432
- **База данных:** supreme_octosuccotash_db
- **Пользователь:** app_user
- **Пароль:** app_password

## Что делают скрипты

### init_db.py
- Создает все необходимые таблицы через репозитории
- Вызывает `_initialize_db()` метод для каждого репозитория
- Работает только при первом запуске или после очистки

### clean_db.py
- Очищает все таблицы командой `TRUNCATE CASCADE`
- Сохраняет структуру таблиц
- Удаляет все данные

## Примеры использования

```cmd
# Полная переинициализация базы данных
db_utils.bat clean
db_utils.bat init
db_utils.bat check

# Быстрая очистка для тестов
db_utils.bat clean
```

## Troubleshooting

Если скрипты не работают:
1. Проверьте, что PostgreSQL запущен
2. Проверьте параметры подключения
3. Проверьте права пользователя `app_user`
4. Убедитесь, что база `supreme_octosuccotash_db` существует
